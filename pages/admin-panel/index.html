<!-- Ajoutez un message de connexion -->
<div id="loginMessage" class="alert" style="display: none;"></div>

<!-- Modifiez le formulaire -->
<form id="loginForm" class="login-form">
    <div class="form-group">
        <label for="email">Adresse email</label>
        <input type="email" id="email" class="form-control" value="admin@escompany.com" required>
    </div>
    
    <div class="form-group">
        <label for="password">Mot de passe</label>
        <input type="password" id="password" class="form-control" value="admin123" required>
    </div>
    
    <button type="submit" class="btn btn-primary" id="loginBtn">
        <i class="fas fa-sign-in-alt"></i> Se connecter
    </button>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const loginForm = document.getElementById('loginForm');
    const loginMessage = document.getElementById('loginMessage');
    const loginBtn = document.getElementById('loginBtn');
    
    loginForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        // Désactiver le bouton pendant la connexion
        loginBtn.disabled = true;
        loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connexion...';
        
        const result = await auth.login(email, password);
        
        if (result.success) {
            loginMessage.className = 'alert alert-success';
            loginMessage.innerHTML = '<i class="fas fa-check-circle"></i> ' + result.message;
            loginMessage.style.display = 'flex';
            
            // Redirection automatique
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 1000);
        } else {
            loginMessage.className = 'alert alert-error';
            loginMessage.innerHTML = '<i class="fas fa-exclamation-circle"></i> ' + result.message;
            loginMessage.style.display = 'flex';
            
            // Réactiver le bouton
            loginBtn.disabled = false;
            loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Se connecter';
        }
    });
});
</script>
